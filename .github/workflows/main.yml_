name: Detect more uup entries
on:
  push:
    branches:
      - "feature/actual-data"

jobs:
  build:
    name: Run
    runs-on: ubuntu-latest
    #container:
    #  image: ghcr.io/erezamihud/pdblist:latest
    steps:
      - uses: actions/checkout@v4
      - name: Installations
        run: sudo apt-get update
      - name: Install apt packages
        run: xargs sudo apt-get install --no-install-recommends -y < packages.txt
      - name: Installations python
        run: python3 -m pip install pefile tqdm
      - name: Run main
        run: chmod +x ./code/main2.sh && bash ./code/main2.sh
      - name: Run Manifest
        run: chmod +x ./code/main3.sh && bash ./code/main3.sh
      - name: Archive manifest result
        uses: actions/upload-artifact@v4
        with:
          name: manifest.out
          path: manifest.out